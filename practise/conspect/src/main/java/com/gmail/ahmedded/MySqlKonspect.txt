üìò –ö–û–ù–°–ü–ï–ö–¢ –ü–û MYSQL
--  –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –Ω–∞—á–∏–Ω–∞—é—Ç—Å—è —Å --
-- =====================================================================

-- =====================================================
-- üîπ 1. –°–¢–ê–†–¢
-- =====================================================
-- –°–µ—Ä–≤–µ—Ä MySQL + –∫–ª–∏–µ–Ω—Ç (CLI, DBeaver, Workbench).
-- –í–∞–∂–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏: –ø–æ—Ä—Ç 3306, –∫–æ–¥–∏—Ä–æ–≤–∫–∞ utf8mb4, time_zone = '+00:00'.
-- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∏ –ø—Ä–∞–≤–∞:
CREATE USER 'app'@'%' IDENTIFIED BY 'pass';
GRANT ALL PRIVILEGES ON mydb.* TO 'app'@'%';
FLUSH PRIVILEGES;

-- =====================================================
-- üîπ 2. –°–¢–†–£–ö–¢–£–†–ê –î–ê–ù–ù–´–•
-- =====================================================
-- –°—Ö–µ–º–∞ (schema/database) ‚Üí —Ç–∞–±–ª–∏—Ü—ã ‚Üí —Å—Ç—Ä–æ–∫–∏ ‚Üí —Å—Ç–æ–ª–±—Ü—ã.
-- –¢–∏–ø—ã: INT, BIGINT, DECIMAL, VARCHAR, TEXT, DATE, DATETIME, JSON, ENUM.
-- –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è: PRIMARY KEY, UNIQUE, NOT NULL, CHECK, FOREIGN KEY.

CREATE TABLE users (
    id BIGINT AUTO_INCREMENT PRIMARY KEY,
    email VARCHAR(255) NOT NULL UNIQUE,
    balance DECIMAL(12,2) DEFAULT 0,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

-- =====================================================
-- üîπ 3. CRUD
-- =====================================================
INSERT INTO users(email, balance) VALUES ('test@mail.com', 100.00);
SELECT id, email FROM users WHERE balance > 0 ORDER BY created_at DESC;
UPDATE users SET balance = balance - 10 WHERE id = 1;
DELETE FROM users WHERE id = 2;

-- =====================================================
-- üîπ 4. JOIN'–´
-- =====================================================
SELECT u.email, o.total
FROM users u
         JOIN orders o ON o.user_id = u.id;      -- INNER JOIN

SELECT u.email, o.total
FROM users u
         LEFT JOIN orders o ON o.user_id = u.id; -- LEFT JOIN

-- =====================================================
-- üîπ 5. –¢–†–ê–ù–ó–ê–ö–¶–ò–ò –ò ACID
-- =====================================================
START TRANSACTION;
    UPDATE accounts SET balance = balance - 100 WHERE id = 1;
    UPDATE accounts SET balance = balance + 100 WHERE id = 2;
COMMIT; -- –∏–ª–∏ ROLLBACK;

-- –£—Ä–æ–≤–Ω–∏ –∏–∑–æ–ª—è—Ü–∏–∏: READ UNCOMMITTED, READ COMMITTED, REPEATABLE READ (default), SERIALIZABLE.

-- =====================================================
-- üîπ 6. –û–ü–¢–ò–ú–ò–ó–ê–¶–ò–Ø
-- =====================================================
-- –ò–Ω–¥–µ–∫—Å—ã –ø–æ WHERE/JOIN-–∫–æ–ª–æ–Ω–∫–∞–º, BTREE –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é.
-- EXPLAIN SELECT ... ‚Äî —Å–º–æ—Ç—Ä–∏–º –ø–ª–∞–Ω –∑–∞–ø—Ä–æ—Å–∞.
-- –ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –¥–æ 3–ù–§, –¥–µ–Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è —Ç–æ—á–µ—á–Ω–æ –ø–æ–¥ –æ—Ç—á–µ—Ç—ã.
-- PreparedStatement ‚Äî –∑–∞—â–∏—Ç–∞ –æ—Ç SQL Injection –∏ –±–æ–Ω—É—Å –∫ –∫–µ—à—É –∑–∞–ø—Ä–æ—Å–æ–≤.

-- =====================================================
-- ‚úÖ –ò–¢–û–ì
-- =====================================================
-- –ß–∏—Å—Ç–∞—è —Å—Ö–µ–º–∞ + –≥—Ä–∞–º–æ—Ç–Ω—ã–µ –∏–Ω–¥–µ–∫—Å—ã + –∫–æ–Ω—Ç—Ä–æ–ª—å —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π = –±—ã—Å—Ç—Ä–∞—è –∏ –Ω–∞–¥–µ–∂–Ω–∞—è MySQL.
