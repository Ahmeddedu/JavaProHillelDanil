üìò –ö–û–ù–°–ü–ï–ö–¢ –ü–û HIBERNATE
--  –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –Ω–∞—á–∏–Ω–∞—é—Ç—Å—è —Å --
-- =====================================================================

-- =====================================================
-- üîπ 1. –ß–¢–û –≠–¢–û
-- =====================================================
-- ORM-—Ñ—Ä–µ–π–º–≤–æ—Ä–∫: Java-–æ–±—ä–µ–∫—Ç—ã ‚Üî —Ç–∞–±–ª–∏—Ü—ã –ë–î.
-- –†–∞–±–æ—Ç–∞–µ—Ç —á–µ—Ä–µ–∑ JPA (EntityManager) –∏–ª–∏ –Ω–∞—Ç–∏–≤–Ω–æ–µ API (Session/SessionFactory).

-- =====================================================
-- üîπ 2. –û–°–ù–û–í–ù–´–ï –ê–ù–û–¢–ê–¶–ò–ò
-- =====================================================
@Entity
@Table(name = "users")
public class User {
    @Id
    @GeneratedValue(strategy = GenerationType.IDENTITY)
    private Long id;

    @Column(nullable = false, unique = true)
    private String email;

    @OneToMany(mappedBy = "user", cascade = CascadeType.ALL, fetch = FetchType.LAZY)
    private List<Order> orders = new ArrayList<>();
}

-- @OneToOne, @ManyToOne, @ManyToMany ‚Äî –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º —Å—Ç–æ—Ä–æ–Ω—ã —Å–≤—è–∑–∏, cascade, fetch.

-- =====================================================
-- üîπ 3. –ñ–ò–ó–ù–ï–ù–ù–´–ô –¶–ò–ö–õ ENTITY
-- =====================================================
-- transient ‚Üí persistent ‚Üí detached ‚Üí removed.
Session session = sessionFactory.openSession();
Transaction tx = session.beginTransaction();
User user = new User();
session.persist(user);   // transient ‚Üí persistent
tx.commit();
session.close();         // –æ–±—ä–µ–∫—Ç —Å—Ç–∞–ª detached

-- =====================================================
-- üîπ 4. –ó–ê–ü–†–û–°–´
-- =====================================================
List<User> list = session.createQuery("from User u where u.email = :email", User.class)
                         .setParameter("email", "test@mail.com")
                         .getResultList();

-- Criteria API –¥–ª—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏—Ö –∑–∞–ø—Ä–æ—Å–æ–≤, NativeQuery ‚Äî –∫–æ–≥–¥–∞ –Ω—É–∂–µ–Ω —á–∏—Å—Ç—ã–π SQL.

-- =====================================================
-- üîπ 5. –õ–ï–ù–ò–í–ê–Ø/–ñ–ê–î–ù–ê–Ø –ó–ê–ì–†–£–ó–ö–ê
-- =====================================================
-- LAZY ‚Äî –ø–æ–¥—Ç—è–≥–∏–≤–∞–µ–º –∫–æ–ª–ª–µ–∫—Ü–∏–∏ —Ç–æ–ª—å–∫–æ –∫–æ–≥–¥–∞ —Ä–µ–∞–ª—å–Ω–æ –Ω—É–∂–Ω—ã.
-- JOIN FETCH –≤ HQL –ø–æ–º–æ–≥–∞–µ—Ç –∏–∑–±–µ–∂–∞—Ç—å N+1.
-- EAGER ‚Äî –æ—Å—Ç–æ—Ä–æ–∂–Ω–æ, –º–æ–∂–µ—Ç —Ç—è–Ω—É—Ç—å –ø–æ–ª–æ–≤–∏–Ω—É –ë–î –∏ –ø–∞–¥–∞—Ç—å –ø–æ –ø–∞–º—è—Ç–∏.

-- =====================================================
-- üîπ 6. –¢–†–ê–ù–ó–ê–ö–¶–ò–ò –ò –ö–≠–®
-- =====================================================
-- –í—Å–µ–≥–¥–∞ —Ä–∞–±–æ—Ç–∞–µ–º –≤ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ (@Transactional –≤ Spring).
-- 1-–π —É—Ä–æ–≤–µ–Ω—å –∫—ç—à–∞ ‚Äî Session (–±–µ—Å–ø–ª–∞—Ç–Ω–æ).
-- 2-–π —É—Ä–æ–≤–µ–Ω—å + Query Cache ‚Äî –ø–æ–¥–∫–ª—é—á–∞–µ–º Ehcache, Infinispan –∏ —Ç.–¥.

-- =====================================================
-- üîπ 7. BEST PRACTICES
-- =====================================================
-- equals()/hashCode() –±–µ–∑ –ª–µ–Ω–∏–≤—ã—Ö –∫–æ–ª–ª–µ–∫—Ü–∏–π –∏ –±–µ–∑ id –¥–æ –µ–≥–æ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏.
-- DTO/Projection –¥–ª—è –æ—Ç–¥–∞—á–∏ –Ω–∞—Ä—É–∂—É, –Ω–µ –≤–æ–∑–≤—Ä–∞—â–∞–µ–º entity –≤ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä.
-- show_sql/logging –≤–∫–ª—é—á–∞–µ–º —Ç–æ–ª—å–∫–æ –≤ dev, —Ñ–æ—Ä–º–∞—Ç–∏—Ä—É–µ–º (hibernate.format_sql = true).
-- –û—Ç–ª–∞–≤–ª–∏–≤–∞–µ–º LazyInitializationException: –ª–∏–±–æ –æ—Ç–∫—Ä—ã—Ç–∞—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è, –ª–∏–±–æ DTO.

-- =====================================================
-- ‚úÖ –ò–¢–û–ì
-- =====================================================
-- Hibernate —Å–Ω–∏–º–∞–µ—Ç –±–æ–ª—å —Ä—É—á–Ω–æ–≥–æ SQL, –Ω–æ —Ç—Ä–µ–±—É–µ—Ç –¥–∏—Å—Ü–∏–ø–ª–∏–Ω—ã: –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ–º —Å–≤—è–∑–∏, –ª–µ–Ω–∏–≤—ã–µ –∑–∞–≥—Ä—É–∑–∫–∏ –∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏.
